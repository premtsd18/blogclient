(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,a){e.exports={article:"Article_article__LiMHu",markdown:"Article_markdown__2vwcy",buttons:"Article_buttons__1o4WE",linkButton:"Article_linkButton__3-Z6z",controlHeader:"Article_controlHeader__2mVJs",button:"Article_button__2ueXb"}},179:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(59),o=a.n(c),l=(a(75),a(15)),i=a(40),s=a(9),u=a(60),m=a.n(u),p=function(){var e=function(){sessionStorage.token&&sessionStorage.removeItem("token")};return r.a.createElement("header",{className:m.a.header},r.a.createElement("h1",null,"Prem's Blog"),r.a.createElement("nav",null,r.a.createElement(s.a,{to:"/"},"blog"),r.a.createElement(s.a,{to:"/gallery"},"Gallery"),sessionStorage.token?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{onClick:e,to:"/"},"Login/Logout"),r.a.createElement(s.a,{to:"/new/article"},"Create")):r.a.createElement(s.a,{to:"/login"},"Login/Logout")))},h=a(63),d=a.n(h),f=function(){return r.a.createElement("footer",{className:d.a.footer},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.instagram.com/premtsd",target:"_blank",rel:"noopener noreferrer"},"Instagram")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.linkedin.com/in/prem-palani-897a171a6/",target:"_blank",rel:"noopener noreferrer"},"Linked In")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://facebook.com/premtsd",target:"_blank",rel:"noopener noreferrer"},"Facebook"))))},g=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),r.a.createElement("hr",null),t,r.a.createElement("hr",null),r.a.createElement(f,null))},b=a(2),E=a.n(b),v=a(6),k=a(5),_=a(39),w=a.n(_),x=a(3),O=a.n(x),j=a(22),y=a.n(j),S=a(64),C=a.n(S),N=a(16),A=a.n(N),B=function(e){var t=e.image,a=e.title,n=e.description,c=e.createdAt;return r.a.createElement(N.SkeletonTheme,{color:"#161f21",highlightColor:"#324759"},r.a.createElement("div",{className:y.a.headerContainer},r.a.createElement("div",{className:y.a.imgContainer},function(e){return void 0===e?r.a.createElement(A.a,{width:70,height:70}):r.a.createElement("img",{src:e,alt:"logo"})}(t)),r.a.createElement("div",{className:y.a.titleContainer},r.a.createElement("h3",{className:y.a.title},a||r.a.createElement(A.a,null)),r.a.createElement("p",{className:y.a.subtitle},n||r.a.createElement(A.a,null)," -"," ",r.a.createElement("span",null,C()(c).format("YYYY/MM/DD"))))))},L=function(){var e=Object(l.g)(),t=Object(n.useState)([]),a=Object(k.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var e=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("http://localhost:4000/api/post");case 3:t=e.sent,o(t.data.reverse()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log({error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:w.a.home},0===c.length?r.a.createElement("i",{className:"gg-spinner-two"}):c.map((function(t){return r.a.createElement("button",{key:t._id,className:w.a.button,onClick:function(){return e.push("/article/".concat(t.slug))}},r.a.createElement(B,{image:t.image,title:t.title,description:t.description,createdAt:t.createdAt}))})))},D=a(10),q=a(21),H=a(65),I=a.n(H),z=function(){var e=Object(l.g)(),t=Object(n.useState)({email:"",password:""}),a=Object(k.a)(t,2),c=a[0],o=a[1],i=function(e){var t=e.target,a=t.name,n=t.value;o(Object(q.a)({},c,Object(D.a)({},a,n)))},s=function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,O.a.post("http://localhost:4000/api/user/login",c);case 4:n=t.sent,sessionStorage.setItem("token",n.data.token),sessionStorage.token&&e.push("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log({error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:I.a.login},r.a.createElement("form",{onSubmit:s},r.a.createElement("h2",null,"Login"),r.a.createElement("input",{placeholder:"Email",type:"email",required:!0,name:"email",value:c.email,onChange:i}),r.a.createElement("input",{placeholder:"Password",type:"password",required:!0,name:"password",value:c.password,onChange:i}),r.a.createElement("button",{type:"submit"},"Submit")))},M=a(17),T=a.n(M),F=a(66),J=a.n(F),Y=function(){var e=Object(n.useState)({comment1:"",slug1:Object(l.h)()}),t=Object(k.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.a.post("http://localhost:4000/api/comments",a);case 4:window.location.reload(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log({error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:o},r.a.createElement("h2",null,"Comments:"),r.a.createElement("textarea",{placeholder:"Enter your comment",type:"textarea",required:!0,name:"comment1",value:a.comment1,onChange:function(e){var t=e.target,n=t.name,r=t.value;c(Object(q.a)({},a,Object(D.a)({},n,r)))}}),r.a.createElement("button",{type:"submit"},"Submit")))},R=a(184),G=a(181),K=a(182),P=a(183),W=function(){var e=Object(l.g)(),t=Object(n.useState)({}),a=Object(k.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)({}),s=Object(k.a)(i,2),u=s[0],m=s[1],p=Object(l.h)().slug;Object(n.useEffect)((function(){h(p)}),[p]);var h=function(){var e=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("http://localhost:4000/api/post/".concat(t));case 3:a=e.sent,o(a.data),m(a.data.comment),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log({error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var t=Object(v.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Do you wanna delete this article?")){t.next=11;break}return t.prev=1,O.a.defaults.headers.common.Authorization=sessionStorage.token,t.next=5,O.a.delete("http://localhost:4000/api/delete/".concat(a));case 5:e.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log({error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:T.a.article},r.a.createElement("div",{className:T.a.controlHeader},r.a.createElement(B,{image:c.image,title:c.title,description:c.description,createdAt:c.createdAt}),function(t){if(sessionStorage.token)return r.a.createElement("div",{className:T.a.buttons},r.a.createElement("button",{onClick:function(){return d(t)},className:T.a.linkButton},"Delete"),r.a.createElement("button",{onClick:function(){return e.push("/edit/".concat(p))},className:T.a.linkButton},"Edit"))}(c._id)),r.a.createElement("hr",null),void 0===c.markdown?r.a.createElement(N.SkeletonTheme,{color:"#161f27",highlightColor:"#324759"},r.a.createElement(A.a,{count:15})):r.a.createElement(J.a,{className:T.a.markdown,source:c.markdown}),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"right"}},"Blog Share",r.a.createElement("br",null),r.a.createElement(R.a,{url:"http://localhost:3001/article/",children:"{slug}"},r.a.createElement(G.a,{style:{height:"25px",width:"25px"}})),r.a.createElement(K.a,{url:"www.facebook.com"},r.a.createElement(P.a,{style:{height:"25px",width:"25px"}}))),r.a.createElement(Y,{slug1:c._id}),r.a.createElement("br",null),r.a.createElement("br",null),function(){if(0!==u.length&&null!=u){var e=[];for(var t in u)e.push(u[t]);return e.reverse(),e.map((function(e){return r.a.createElement("div",null,r.a.createElement("button",{className:T.a.button},e))}))}}(),r.a.createElement("br",null),r.a.createElement("br",null))},Q=a(68),U=a.n(Q),V=function(){var e=Object(l.g)(),t=Object(l.h)().slug,a=Object(n.useState)(!1),c=Object(k.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(k.a)(s,2),m=u[0],p=u[1],h=Object(n.useState)({image:"",title:"",description:"",markdown:""}),d=Object(k.a)(h,2),f=d[0],g=d[1];Object(n.useEffect)((function(){t&&(b(t),i(!0))}),[t]);var b=function(){var e=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("http://localhost:4000/api/post/".concat(t));case 3:a=e.sent,g(a.data),p(a.data._id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log({error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=e.target,a=t.name,n=t.value;g(Object(q.a)({},f,Object(D.a)({},a,n)))},w=function(){var a=Object(v.a)(E.a.mark((function a(n){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!sessionStorage.token){a.next=25;break}if(!o){a.next=15;break}return a.prev=3,O.a.defaults.headers.common.Authorization=sessionStorage.token,a.next=7,O.a.put("http://localhost:4000/api/update/".concat(m),f);case 7:e.push("/article/".concat(t)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),console.log({error:a.t0});case 13:a.next=25;break;case 15:return a.prev=15,O.a.defaults.headers.common.Authorization=sessionStorage.token,a.next=19,O.a.post("http://localhost:4000/api/new/post",f);case 19:e.push("/"),a.next=25;break;case 22:a.prev=22,a.t1=a.catch(15),console.log({error:a.t1});case 25:case"end":return a.stop()}}),a,null,[[3,10],[15,22]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("form",{className:U.a.form,onSubmit:w},r.a.createElement("input",{type:"text",required:!0,placeholder:"Url image layout",name:"image",value:f.image,onChange:_}),r.a.createElement("input",{type:"text",required:!0,placeholder:"Title",name:"title",value:f.title,onChange:_}),r.a.createElement("input",{type:"text",required:!0,placeholder:"Description",name:"description",value:f.description,onChange:_}),r.a.createElement("textarea",{required:!0,placeholder:"Markdown here",name:"markdown",value:f.markdown,onChange:_}),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.goBack()}},"Back"),r.a.createElement("button",{type:"submit"},o?"Edit":"Create")))},X=a(69),Z=a.n(X),$=function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){o()}),[]);var o=function(){var e=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("http://localhost:4000/api/post");case 3:t=e.sent,c(t.data.reverse()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log({error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:Z.a.home},r.a.createElement("div",{className:"row"},0===a.length?r.a.createElement("i",{className:"gg-spinner-two"}):a.map((function(e){return r.a.createElement("span",null,r.a.createElement("img",{src:e.image,alt:"logo",width:"200px",height:"200px",style:{paddingTop:"50px",paddingRight:"30px",paddingLeft:"30px"}}))}))))},ee=function(){var e=Object(n.useContext)(l.e).location,t=Object(i.b)(e,(function(e){return e.pathname}),{from:{opacity:0,transform:"translate(30%, 0)"},enter:{opacity:1,transform:"translate(0%, 0)"},leave:{opacity:0,transform:"translate(-70%, 0)",position:"absolute"}});return r.a.createElement("div",{id:"App"},r.a.createElement(g,null,t.map((function(e){var t=e.item,a=e.props,n=e.key;return r.a.createElement(i.a.div,{key:n,style:a},r.a.createElement(l.d,{location:t},r.a.createElement(l.b,{strict:!0,exact:!0,path:"/",component:L}),r.a.createElement(l.b,{exact:!0,path:"/login",component:z}),r.a.createElement(l.b,{path:"/article/:slug",component:W}),r.a.createElement(l.b,{path:"/edit/:slug",component:V}),r.a.createElement(l.b,{path:"/new/article",component:V}),r.a.createElement(l.b,{path:"/gallery",component:$}),r.a.createElement(l.a,{to:"/"})))}))))},te=a(7),ae=Object(te.a)();o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.c,{history:ae},r.a.createElement(ee,null))),document.getElementById("root"))},22:function(e,t,a){e.exports={headerContainer:"Blogheader_headerContainer__2n07f",imgContainer:"Blogheader_imgContainer__ksGFe",titleContainer:"Blogheader_titleContainer__4nxpn",title:"Blogheader_title__27wIQ"}},39:function(e,t,a){e.exports={home:"Home_home__6z183",button:"Home_button__2pIlR"}},60:function(e,t,a){e.exports={header:"Header_header__1MOL-"}},63:function(e,t,a){e.exports={footer:"Footer_footer__BKhgK"}},65:function(e,t,a){e.exports={login:"Login_login__3aBWT"}},68:function(e,t,a){e.exports={form:"NewArticle_form__3huRk"}},69:function(e,t,a){e.exports={home:"gallery_home__1uLJb",button:"gallery_button__1N-9T",padding:"gallery_padding__Odhzr"}},70:function(e,t,a){e.exports=a(179)},75:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.1a3d3467.chunk.js.map